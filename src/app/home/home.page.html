<ion-content class="home-page">
  <ion-button fill="clear" class="menu-float-btn" (click)="openMenuModal()">
    <ion-icon name="menu-outline" slot="icon-only"></ion-icon>
  </ion-button>

  <div class="scan-icon-container" (click)="showCameraModal()">
    <ion-icon name="scan-circle-outline" class="scan-icon"></ion-icon>
    <div class="scan-text">Join the Queue Now</div>
  </div>

  <div class="floating-footer-icons">
    <ion-button fill="clear" (click)="navigateTo('/home')">
      <ion-icon name="scan" size="large"></ion-icon>
    </ion-button>
    <ion-button fill="clear" (click)="navigateTo('/queue')">
      <ion-icon name="list-outline" size="large"></ion-icon>
    </ion-button>
  </div>

  <!-- Camera Modal -->
  <ion-modal [isOpen]="isCameraModalOpen" (didDismiss)="isCameraModalOpen = false">
    <ng-template>
      <div class="modal-gray-bg">
        <ion-buttons slot="start">
          <ion-button fill="clear" (click)="isCameraModalOpen = false">
            <ion-icon name="chevron-back-outline" slot="icon-only" style="color: white;"></ion-icon>
          </ion-button>
        </ion-buttons>
        <div class="camera-square" (click)="handleCameraSquareClick()"></div>
        <div class="flashlight-btn" (click)="toggleFlashlight()">
          <ion-icon name="flashlight-outline"></ion-icon>
        </div>
      </div>
    </ng-template>
  </ion-modal>

  <!-- Menu Modal -->
  <ion-modal [isOpen]="isMenuModalOpen" (didDismiss)="isMenuModalOpen = false" class="menu-slide-modal">
    <ng-template>
      <div class="modal-content">
        <div class="modal-header">
          <ion-button fill="clear" class="back-btn" (click)="isMenuModalOpen = false">
            <ion-icon name="arrow-back-outline" slot="icon-only"></ion-icon>
          </ion-button>
          <h3>Menu</h3>
        </div>

        <div class="modal-item">
          <ion-icon name="camera-outline" class="modal-icon"></ion-icon>
          <div class="modal-label">Camera</div>
          <ion-toggle [(ngModel)]="cameraEnabled" class="modal-toggle"></ion-toggle>
        </div>

        <div class="modal-item">
          <ion-icon name="volume-high-outline" class="modal-icon"></ion-icon>
          <div class="modal-label">Speaker</div>
          <ion-toggle [(ngModel)]="speakerEnabled" class="modal-toggle"></ion-toggle>
        </div>

        <div class="modal-item">
          <ion-icon name="hardware-chip-outline" class="modal-icon"></ion-icon>
          <div class="modal-label">Vibration</div>
          <ion-toggle [(ngModel)]="vibrationEnabled" class="modal-toggle"></ion-toggle>
        </div>

        <div class="modal-item">
          <ion-icon name="flashlight-outline" class="modal-icon"></ion-icon>
          <div class="modal-label">Flashlight</div>
          <ion-toggle [(ngModel)]="flashlightEnabled" class="modal-toggle"></ion-toggle>
        </div>
      </div>
    </ng-template>
  </ion-modal>
</ion-content>
